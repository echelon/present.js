<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN" 
	"http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
	<head>
		<title>Title</title>

		<!-- embedded styles -->
		<style type="text/css" media="all">
		</style>

		<script type="text/javascript" src="./lib/showdown.js"></script>
		<script type="text/javascript" src="./lib/jquery.js"></script>
		<script type="text/javascript" src="./lib/jquery.getUrlParam.js"></script>
		<script type="text/javascript" src="./lib/jquery.hotkeys.js"></script>
		<script type="text/javascript" src="./slideshow.js"></script>
		<script type="text/javascript" src="./slideshow.ui.js"></script>
		<script type="text/javascript"> 

			//var SS = null;

			// From http://stackoverflow.com/questions/210717/what-is-the-best-
			// way-to-center-a-div-on-the-screen-using-jquery/210733#210733
			jQuery.fn.center = function () {
				this.css("position","absolute");
				this.css("top", ( $(window).height() - this.height() ) / 2+$(window).scrollTop() + "px");
				this.css("left", ( $(window).width() - this.width() ) / 2+$(window).scrollLeft() + "px");
				return this;
			};

			function handleLoad(data) {
				SS = slidemake3(data);
				show();
			};
			function loadfile() {
				var file = $(document).getUrlParam('mkd') || 'example.mkd';
				$.ajax({
						url: file,
						dataType: 'text',
						success: function(data) { handleLoad(data); },
				});
			};

			$(document).ready(function() { loadfile(); });

			// Key bindings
			$(document).bind('keydown', 'right', function() { next(); }); 
			$(document).bind('keypress', 'j', function() { next(); }); // Vim-like
			$(document).bind('keypress', 'l', function() { next(); }); // Vim-like
			$(document).bind('keydown', 'left', function() { prev(); }); 
			$(document).bind('keypress', 'k', function() { prev(); }); // Vim-like
			$(document).bind('keypress', 'h', function() { prev(); }); // Vim-like

			// Page Layout
			$(window).resize(function() { $('.presentation').center(); });

		</script>
		<!-- Inline styles (TEMP) -->
		<style type="text/css">
			#header {
				text-align: center;
				z-index: 1;
			}
			#footer {
				position: absolute;
				bottom: 0;
				left: 0;
				height: 10%;
				width: 100%;
				text-align: right;
				z-index: 1;
			}
			body {
				font-size: 1.3em;
			}
		</style>
	</head>
	<body>
		<div class="layout">
			<div id="controls"></div>
			<div id="currentSlide"></div>
			<div id="header"></div>
			<div id="footer"></div>
		</div>

		<div class="presentation"></div>

	</body>
</html>

